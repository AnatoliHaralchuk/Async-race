(()=>{"use strict";var t={402:(t,n,e)=>{e.d(n,{Z:()=>h});var r=e(81),a=e.n(r),i=e(645),s=e.n(i),o=e(667),d=e.n(o),c=new URL(e(872),e.b),l=s()(a()),u=d()(c);l.push([t.id,"* {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n}\r\nbody{\r\n    height: 99vh;\r\n}\r\n.wrapper {\r\n    max-width: 1440px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    font-size: 1.2rem;\r\n    /* height: 100%; */\r\n}\r\n.header-btn {\r\n    background-color: bisque;\r\n    padding: 0.8rem;\r\n    display: flex;\r\n    column-gap: 0.8rem;\r\n}\r\n.btn,\r\n.btn-engine {\r\n    box-shadow: 0 0 0.2rem 0.1rem grey ;\r\n    font-size: 1.2rem;\r\n    cursor: pointer;\r\n}\r\n.main {\r\n    position: relative;\r\n}\r\n.main,\r\n.to-winners {\r\n    background-color:rgb(220, 220, 164);\r\n    padding: 0.8rem;\r\n    flex: 1 1 auto;\r\n}\r\n.set-control {\r\n    display: flex;\r\n    flex-direction: column;\r\n    row-gap: 0.8rem;\r\n}\r\n.form {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    column-gap: 0.8rem;\r\n    width: 28rem;\r\n}\r\n.input {\r\n    width: 50%;\r\n    font-size: 1.2rem;\r\n    box-shadow: 0 0 2px 2px grey; \r\n}\r\n.color {\r\n    height: initial;\r\n}\r\n.update-btn,\r\n.create-btn {\r\n    width: 10rem;\r\n}\r\n.race-control {\r\n    padding-top: 1rem;\r\n    padding-bottom: 1rem;\r\n    width: 28rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    column-gap: 0.8rem;\r\n}\r\n.race-btn {\r\n    width: 20%;\r\n}\r\n.reset-btn {\r\n    width: 20%;\r\n}\r\n.generate-btn {\r\n    width: 60%;\r\n}\r\n.garage-wrapper {\r\n    background-color: beige;\r\n}\r\n.title-main {\r\n    padding: 0.8rem;\r\n}\r\n.title-page {\r\n    padding-left: 0.8rem;\r\n    padding-bottom: 0.8rem;\r\n}\r\n.sub-set-control {\r\n    display: flex;\r\n    column-gap: 1.2rem;\r\n    padding-top: 0.8rem;\r\n}\r\n.name-car {\r\n    font-size: inherit;\r\n}\r\n.road {\r\n    border-bottom: 2px dotted grey;\r\n    position: relative;\r\n    display: flex;\r\n    column-gap: 0.5rem;\r\n    padding-top: 0.8rem;\r\n}\r\n.btn-engine{\r\n    margin-top: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n}\r\n.start-engine,\r\n.stop-engine {\r\n    width: 2rem;\r\n    height: 2rem;\r\n    border-radius: 50%;\r\n}\r\n.car{\r\n    position: absolute;\r\n    left: 5rem;\r\n    top: 0;\r\n    height: inherit;\r\n}\r\n.car svg{\r\nposition: relative;\r\nheight: 100%;\r\nbottom: -0.6rem;\r\n}\r\n.flag {\r\n    position: absolute; \r\n    bottom: -2rem;\r\n    right: 8rem;\r\n    background-image: url("+u+");\r\n    background-position: bottom;\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    width: 120px;\r\n    height: 120px;\r\n}\r\n.popap {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top:0;\r\n    left: 0;\r\n    background-color: rgb(23, 20, 20, 0.7);\r\n    text-align: center;\r\n    padding-top: 20%;\r\n    \r\n}\r\n.popap span{\r\n    color:rgb(0, 255, 0);\r\n    font-size: 4rem;\r\n}\r\n.footer-btn {\r\n    background-color: bisque;\r\n    padding: 0.8rem;\r\n    display: flex;\r\n    column-gap: 0.8rem;\r\n}\r\n.footer-btn__prev,\r\n.footer-btn__next {\r\n    width: 8rem;\r\n}\r\nth {\r\n    padding: 1rem;\r\n    background-color: rgb(8, 140, 140);\r\n    border: 2px solid rgb(220, 220, 164);\r\n}\r\ntd {\r\n    text-align: center;\r\n}\r\n.th-btn {\r\n    background-color: aquamarine;\r\n    cursor: pointer;\r\n    box-shadow:rgb(6, 15, 77) 0 0 5px 1px;\r\n}\r\n.th-btn:active {\r\n    box-shadow:rgb(6, 15, 77) inset 0 0 5px 1px;\r\n}\r\n.DESC { \r\n    border-top: 5px solid rgb(1, 20, 20);\r\n    border-right: 5px solid rgb(1, 20, 20);\r\n}\r\n.ASC {\r\n    border-bottom: 5px solid rgb(1, 20, 20);\r\n    border-right: 5px solid rgb(1, 20, 20);\r\n}",""]);const h=l},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(s[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),n.push(l))}},n}},667:t=>{t.exports=function(t,n){return n||(n={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]|(%20)/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var i={},s=[],o=0;o<t.length;o++){var d=t[o],c=r.base?d[0]+r.base:d[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=e(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)n[h].references++,n[h].updater(p);else{var m=a(p,r);r.byIndex=o,n.splice(o,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function a(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,a){var i=r(t=t||[],a=a||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=e(i[s]);n[o].references--}for(var d=r(t,a),c=0;c<i.length;c++){var l=e(i[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}i=d}}},569:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var a=void 0!==e.layer;a&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,a&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},872:(t,n,e)=>{t.exports=e.p+"997aae8e2e57e4721532.svg"}},n={};function e(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href,e.nc=void 0,(()=>{var t,n,r,a=function(t,n,e,r){return new(e||(e=Promise))((function(a,i){function s(t){try{d(r.next(t))}catch(t){i(t)}}function o(t){try{d(r.throw(t))}catch(t){i(t)}}function d(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,o)}d((r=r.apply(t,n||[])).next())}))};class i{constructor(){this.base="http://127.0.0.1:3000",this.path={garage:`${this.base}/garage`,winners:`${this.base}/winners`,engine:`${this.base}/engine`}}getCars(t,n=7){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${this.path.garage}?_page=${t}&_limit=${n}`);return{data:yield e.json(),count:e.headers.get("X-Total-Count")}}))}getCar(t){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.garage}/${t}`)).json()}))}createCar(t){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.garage}`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))}deleteCar(t){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.garage}/${t}`,{method:"DELETE"})).json()}))}updateCar(t,n){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.garage}/${t}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json()}))}startEngine(t){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.engine}?id=${t}&status=started`,{method:"PATCH"})).json()}))}stopEngine(t){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.engine}?id=${t}&status=stopped`,{method:"PATCH"})).json()}))}driveEngine(t){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${this.path.engine}?id=${t}&status=drive`,{method:"PATCH"}).catch();return n.ok?Object.assign({},yield n.json()):{success:!1}}))}getWinners(t,n,e,r){return a(this,void 0,void 0,(function*(){const a=yield fetch(`${this.path.winners}?_page=${t}&_limit=${n}${e&&r?`&_sort=${e}&_order=${r}`:""}`);return{data:yield a.json(),count:a.headers.get("X-Total-Count")}}))}getWinner(t){return a(this,void 0,void 0,(function*(){return yield(yield fetch(`${this.path.winners}/${t}`)).json()}))}createWinner(t){return a(this,void 0,void 0,(function*(){return(yield fetch(`${this.path.winners}`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))}updateWinner(t,n){return a(this,void 0,void 0,(function*(){return(yield fetch(`${this.path.winners}/${t}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json()}))}deleteWinner(t){return a(this,void 0,void 0,(function*(){return(yield fetch(`${this.path.winners}/${t}`,{method:"DELETE"})).json()}))}getWinnerStatus(t){return a(this,void 0,void 0,(function*(){return(yield fetch(`${this.path.winners}/${t}`)).status}))}addWinner(t,n){return a(this,void 0,void 0,(function*(){if(404===(yield this.getWinnerStatus(t)))yield this.createWinner({id:t,wins:1,time:n});else{const e=yield this.getWinner(t);yield this.updateWinner(t,{id:t,wins:e.wins+1,time:e.time>n?n:e.time})}}))}}!function(t){t.garage="garage",t.winners="winners"}(t||(t={})),function(t){t.time="time",t.wins="wins"}(n||(n={})),function(t){t.up="ASC",t.down="DESC"}(r||(r={}));class s{constructor(){this.nameCar=["Mersedes","BMW","Audi","VW","Renault","Lada","Volvo","Honda","Toyota","Geely"],this.modelCar=["A5","Atlas","Q7","Touran","Talisman","XC90","W221","Insight","Corolla","X5"]}randomCar(){return`${this.nameCar[Math.floor(Math.random()*this.nameCar.length)]} ${this.modelCar[Math.floor(Math.random()*this.modelCar.length)]}`}randomColor(){const t="0123456789ABCDEF";let n="#";for(let e=0;e<6;e+=1)n+=t[Math.floor(Math.random()*t.length)];return n}generateHundred(t=100){return new Array(t).fill(0).map((()=>({name:this.randomCar(),color:this.randomColor()})))}sortCar(t){return t.sort(((t,n)=>t.time-n.time))[0]}animation(t,n,e){let r=0;const a={};return a.id=requestAnimationFrame((function i(s){r||(r=s);const o=s-r,d=Math.round(o*(n/e));t.style.transform=`translateX(${Math.min(d,n)}px)`,d<n&&(a.id=requestAnimationFrame(i))})),a}}var o=function(t,n,e,r){return new(e||(e=Promise))((function(a,i){function s(t){try{d(r.next(t))}catch(t){i(t)}}function o(t){try{d(r.throw(t))}catch(t){i(t)}}function d(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,o)}d((r=r.apply(t,n||[])).next())}))};class d{constructor(){this.data={carsPage:1,winnersPage:1,carsCount:0,winnersCount:0,cars:[],winners:[],anima:{},view:t.garage,sortBy:n.time,sortOrder:r.up},this.apimetods=new i,this.supportmetods=new s}startPage(n){return o(this,void 0,void 0,(function*(){const e=yield this.apimetods.getCars(this.data.carsPage);this.data.cars=e.data,this.data.carsCount=Number(e.count);const r=yield this.apimetods.getWinners(this.data.winnersPage,10,this.data.sortBy,this.data.sortOrder);if(this.data.winnersCount=Number(r.count),this.data.winners=yield Promise.all(r.data.map((t=>o(this,void 0,void 0,(function*(){const n={},e=yield this.apimetods.getCar(t.id);return n.car=e,n.wins=t.wins,n.time=t.time,n}))))),document.querySelector(".wrapper"))n(this.data);else{document.body.innerHTML="";const t=document.createElement("div");t.classList.add("wrapper"),t.innerHTML=`${n(this.data)}`,document.body.append(t)}this.data.view===t.garage?this.disPaginationGarage(this.data.carsCount,this.data.carsPage,7):this.disPaginationGarage(this.data.winnersCount,this.data.winnersPage,10)}))}disPaginationGarage(t,n,e){const r=document.querySelector(".footer-btn__prev"),a=document.querySelector(".footer-btn__next");n>1?r.removeAttribute("disabled"):r.setAttribute("disabled","true"),Math.ceil(t/e)===n?a.setAttribute("disabled","true"):a.removeAttribute("disabled")}listener(e,a){const i=e.target;(i.classList.contains("create-btn")||i.classList.contains("update-btn"))&&(e.preventDefault(),i.classList.contains("create-btn")?this.createCar(a):this.updateCar(a)),i.classList.contains("select-car")&&this.selectCar(Number(i.dataset.select)),i.classList.contains("remove-car")&&this.deleteCar(Number(i.dataset.remove),a),i.classList.contains("footer-btn__prev")&&this.prev(a),i.classList.contains("footer-btn__next")&&this.next(a),i.classList.contains("generate-btn")&&this.generateCars(a),i.classList.contains("start-engine")&&this.startEngine(Number(i.dataset.start)),i.classList.contains("stop-engine")&&this.stopEngine(Number(i.dataset.stop)),i.classList.contains("header-btn")&&("winners"===i.dataset.page&&(this.data.view="winners",this.startPage(a)),i.dataset.page===t.garage&&(this.data.view=t.garage),this.disPaginationGarage(this.data.carsCount,this.data.carsPage,7),this.togglePage(String(i.dataset.page))),i.classList.contains("race-btn")&&this.race(),i.classList.contains("reset-btn")&&this.reset(),i.classList.contains("popap")&&(i.style.display="none"),i.classList.contains("th-btn")&&(i.classList.contains("th-wins")?this.data.sortBy=n.wins:this.data.sortBy=n.time,this.data.sortOrder===r.up?this.data.sortOrder=r.down:this.data.sortOrder=r.up,this.startPage(a))}createCar(t){return o(this,void 0,void 0,(function*(){const n=document.querySelectorAll(".create-input");yield this.apimetods.createCar({name:n[0].value,color:n[1].value}),n[0].value="",this.startPage(t)}))}updateCar(t){return o(this,void 0,void 0,(function*(){const n=document.querySelectorAll(".update-input"),e=document.querySelector(".update-btn"),r=Number(e.getAttribute("id"));yield this.apimetods.updateCar(r,{id:r,name:n[0].value,color:n[1].value}),n[0].value="",n[0].setAttribute("disabled","true"),n[1].setAttribute("disabled","true"),n[1].value="#000000",e.setAttribute("disabled","true"),this.startPage(t)}))}selectCar(t){const n=document.querySelectorAll(".update-input"),e=document.querySelector(".update-btn");n[0].removeAttribute("disabled"),n[0].focus(),n[1].removeAttribute("disabled"),e.removeAttribute("disabled"),this.apimetods.getCar(t).then((t=>{n[0].value=t.name,n[1].value=t.color,e.setAttribute("id",`${t.id}`)}))}deleteCar(t,n){this.apimetods.deleteCar(t).then((()=>this.startPage(n))),this.apimetods.deleteWinner(t).then((()=>this.startPage(n)))}prev(n){this.data.view===t.garage&&(this.data.carsPage-=1),this.data.view===t.winners&&(this.data.winnersPage-=1),this.startPage(n)}next(n){this.data.view===t.garage&&(this.data.carsPage+=1),this.data.view===t.winners&&(this.data.winnersPage+=1),this.startPage(n)}generateCars(t){this.supportmetods.generateHundred().forEach((t=>this.apimetods.createCar(t))),this.startPage(t)}startEngine(t){return o(this,void 0,void 0,(function*(){const n=document.querySelector(`[data-start = "${t}"]`),e=document.querySelector(`[data-stop = "${t}"]`),r=document.querySelector(".race-btn"),a=document.querySelector(".reset-btn");n.setAttribute("disabled","true"),r.setAttribute("disabled","true"),a.setAttribute("disabled","true");const i={};return i.car=yield this.apimetods.getCar(t),yield this.apimetods.startEngine(t).then((n=>{const{velocity:e,distance:r}=n,a=Math.round(r/e),i=document.querySelector(`[data-id = "${t}"]`);return{car:i,way:document.querySelector(`[data-flag = "${t}"]`).offsetLeft-i.offsetLeft+100,time:a}})).then((t=>{const{car:n,way:e,time:r}=t;return this.data.anima=this.supportmetods.animation(n,e,r),r})).then((n=>o(this,void 0,void 0,(function*(){const s=yield this.apimetods.driveEngine(t);return r.removeAttribute("disabled"),a.removeAttribute("disabled"),e.removeAttribute("disabled"),s.success?(i.time=n,i.wins=1):(this.data.anima.id&&cancelAnimationFrame(this.data.anima.id),i.time=n+5e3,i.wins=1),i}))))}))}stopEngine(t){const n=document.querySelector(`[data-start = "${t}"]`),e=document.querySelector(`[data-stop = "${t}"]`);n.removeAttribute("disabled"),e.setAttribute("disabled","true"),document.querySelector(`[data-id = "${t}"]`).style.transform="translateX(0px)",this.data.anima.id&&cancelAnimationFrame(this.data.anima.id)}togglePage(n){const e=document.querySelector(".to-winners"),r=document.querySelector(".main");n===t.garage?(e.style.display="none",r.style.display="block"):(e.style.display="block",r.style.display="none")}race(){const t=document.querySelector(".popap"),n=document.querySelector(".popap span");n.innerText="",Promise.all(this.data.cars.map((t=>this.startEngine(t.id)))).then((t=>this.supportmetods.sortCar(t))).then((e=>{t.style.display="block";const r=Number((e.time/1e3).toFixed(2));n.innerText=`Wins ${e.car.name} with ${r} sec`,this.apimetods.addWinner(e.car.id,r)}))}reset(){this.data.cars.forEach((t=>{document.querySelector(`[data-stop = "${t.id}"]`).click()}))}}class c{drawMain(t){return`\n        <main class="main">\n            <div class="set-control">\n                <form action="#" class="set-create form">\n                    <input type="text" class="create-input input" name="name">\n                    <input type="color" value="#000000" class="create-input color" name="name">\n                    <button type="submit" class="create-btn btn">Create</button>\n                </form>\n                <form action="#" class="set-update form">\n                    <input type="text" class="update-input input" name="name" disabled>\n                    <input type="color" value="#000000" class="update-input color" name="name" disabled>\n                    <button type="submit" class="update-btn btn" disabled>Update</button>\n                </form>\n            </div>\n            <div class="race-control">\n                <button class="race-btn btn">Race</button>\n                <button class="reset-btn btn">Reset</button>\n                <button class="generate-btn btn">Generate Cars</button>\n            </div>\n            <div class="garage-wrapper">\n                ${this.drawGarage(t)}\n            </div>\n            <div class="popap" style = "display: none">\n                <span></span>\n            </div>\n        </main>         \n        `}drawGarage(t){return`\n    <h1 class="title-main">Garage(${t.carsCount})</h1>\n    <h2 class="title-page">Page #${t.carsPage}</h2>\n    ${t.cars.map((t=>`\n    <div>${this.drawCar(t)}</div>\n    `)).join("")}`}drawCar(t){return`\n        <div class="sub-set-control">\n            <button class="select-car btn" data-select = "${t.id}">select</button>\n            <button class="remove-car btn" data-remove = "${t.id}">remove</button>\n            <span class="name-car">${t.name}</span>\n        </div>\n        <div class="road">\n            <button class="start-engine btn-engine" data-start = "${t.id}">A</button>\n            <button class="stop-engine btn-engine" data-stop = "${t.id}"disabled>B</button>\n            <div class="car" data-id = "${t.id}">\n                ${this.darwImage(t.color)}\n            </div>\n            <div class="flag" data-flag = "${t.id}"></div>\n        </div>`}darwImage(t){return`<?xml version="1.0" standalone="no"?>\n        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n         "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n        <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n         width="150px" height="60px" viewBox="0 0 1280.000000 640.000000"\n         preserveAspectRatio="xMidYMid meet">\n        <metadata>\n        Created by potrace 1.15, written by Peter Selinger 2001-2017\n        </metadata>\n        <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n        fill="${t}" stroke="none">\n        <path d="M3525 5341 c-72 -18 -79 -28 -90 -121 -4 -30 -11 -62 -16 -71 -4 -9\n        -97 -51 -206 -94 -774 -304 -1348 -540 -1603 -661 -163 -77 -222 -91 -421\n        -104 -85 -5 -170 -14 -189 -20 -101 -32 -362 -58 -620 -63 l-115 -2 -47 -80\n        c-47 -78 -47 -80 -29 -100 34 -36 35 -77 5 -177 -30 -99 -34 -178 -19 -370 5\n        -67 4 -88 -6 -88 -29 0 -83 -56 -110 -114 -50 -106 -74 -343 -48 -467 13 -58\n        13 -62 3 -159 -5 -54 16 -238 28 -244 2 -1 29 -20 61 -41 73 -49 123 -103 132\n        -143 17 -79 167 -155 355 -181 104 -15 969 -97 1087 -104 l32 -2 5 160 c7 230\n        50 394 146 559 281 479 917 673 1405 429 316 -159 530 -424 598 -742 22 -106\n        29 -365 13 -519 l-8 -82 3002 0 c2855 0 3002 1 2995 18 -33 87 -56 325 -45\n        461 28 320 177 567 459 759 399 273 847 282 1243 24 239 -157 397 -392 460\n        -687 18 -84 15 -341 -5 -430 -8 -38 -14 -71 -12 -73 7 -8 386 20 478 34 180\n        28 253 65 304 152 24 41 28 57 28 127 -1 44 -9 117 -20 163 -18 79 -18 88 -2\n        190 31 199 40 306 41 497 1 176 -1 195 -23 260 -46 135 -103 190 -283 274\n        -222 104 -633 220 -1168 330 -523 108 -1524 210 -2054 211 l-229 0 -236 139\n        c-813 477 -1593 884 -1852 966 -498 157 -1598 195 -2892 100 l-188 -14 -47 30\n        c-92 58 -223 89 -297 70z m1912 -311 c13 -45 58 -305 88 -515 33 -226 74 -539\n        71 -542 -7 -7 -1672 40 -2054 58 -357 16 -464 56 -573 215 -62 91 -87 225 -59\n        326 12 40 56 74 192 148 369 198 799 289 1618 340 246 15 290 16 510 16 l194\n        -1 13 -45z m649 10 c383 -36 717 -86 934 -139 210 -52 451 -163 720 -332 141\n        -88 379 -259 380 -271 0 -5 -14 -8 -32 -8 -48 0 -114 -37 -140 -78 -24 -39\n        -30 -113 -15 -189 l9 -43 -904 0 -904 0 -176 540 -175 540 47 0 c25 0 141 -9\n        256 -20z"/>\n        <path d="M2617 3125 c-431 -82 -774 -440 -838 -875 -17 -117 -7 -292 24 -410\n        113 -436 497 -751 947 -777 507 -29 959 313 1076 813 28 117 26 348 -4 467\n        -94 378 -383 670 -760 768 -105 27 -336 34 -445 14z m378 -310 c84 -21 209\n        -85 280 -142 116 -94 210 -242 251 -393 23 -87 24 -260 0 -355 -58 -237 -242\n        -439 -473 -519 -531 -186 -1074 277 -969 828 30 152 94 274 206 386 111 110\n        237 178 385 206 84 16 235 11 320 -11z"/>\n        <path d="M2918 2568 c2 -90 7 -167 12 -172 17 -17 108 58 201 166 l51 57 -48\n        31 c-52 33 -131 65 -185 75 l-34 6 3 -163z"/>\n        <path d="M2591 2700 c-62 -22 -167 -82 -164 -94 3 -13 237 -216 249 -216 7 0\n        15 7 18 16 8 20 8 127 -1 232 -7 95 -8 96 -102 62z"/>\n        <path d="M3209 2355 c-57 -64 -105 -123 -107 -131 -6 -25 46 -35 157 -29 58 3\n        121 8 139 11 33 5 34 6 27 42 -7 44 -64 167 -92 201 l-19 24 -105 -118z"/>\n        <path d="M2260 2409 c-31 -44 -68 -133 -77 -186 l-6 -33 155 0 c165 0 201 9\n        181 44 -13 24 -204 216 -214 216 -5 0 -22 -18 -39 -41z"/>\n        <path d="M2786 2354 c-36 -35 0 -87 44 -64 26 14 26 56 1 70 -25 13 -27 13\n        -45 -6z"/>\n        <path d="M2751 2186 c-57 -32 -68 -111 -22 -157 43 -42 101 -43 143 -1 42 42\n        41 100 -1 143 -33 32 -78 38 -120 15z"/>\n        <path d="M2560 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n        -54 2z"/>\n        <path d="M3002 2124 c-27 -19 -28 -36 -3 -58 25 -23 61 -6 61 29 0 33 -30 49\n        -58 29z"/>\n        <path d="M2245 1993 c-77 -6 -76 -5 -59 -65 16 -55 61 -146 92 -186 l18 -23\n        103 122 c57 67 104 129 105 138 1 14 -14 16 -104 17 -58 0 -127 -1 -155 -3z"/>\n        <path d="M3165 1981 c-44 -4 -61 -10 -63 -22 -3 -16 210 -229 228 -229 22 0\n        86 141 105 228 l7 32 -109 -2 c-59 -1 -135 -4 -168 -7z"/>\n        <path d="M2776 1914 c-19 -18 -19 -20 -6 -45 6 -11 21 -19 35 -19 20 0 45 24\n        45 44 0 10 -32 36 -45 36 -7 0 -21 -7 -29 -16z"/>\n        <path d="M2589 1743 c-86 -90 -139 -151 -139 -162 0 -25 179 -101 236 -101\n        l27 0 -7 143 c-9 166 -13 187 -35 187 -9 0 -46 -30 -82 -67z"/>\n        <path d="M2936 1801 c-6 -10 -24 -168 -29 -258 -3 -60 -2 -63 19 -63 79 0 262\n        68 248 92 -5 7 -53 64 -108 126 -93 105 -117 124 -130 103z"/>\n        <path d="M10723 3125 c-318 -58 -597 -266 -743 -555 -223 -441 -98 -996 289\n        -1288 112 -84 188 -125 311 -166 274 -91 545 -70 802 61 552 282 735 983 392\n        1500 -225 339 -651 521 -1051 448z m385 -315 c348 -98 579 -443 532 -796 -67\n        -508 -596 -796 -1055 -574 -239 116 -396 352 -412 620 -20 335 192 640 516\n        745 122 40 289 42 419 5z"/>\n        <path d="M11017 2568 c3 -90 9 -167 14 -172 13 -14 53 18 155 122 l95 97 -23\n        18 c-50 40 -189 97 -235 97 -10 0 -11 -33 -6 -162z"/>\n        <path d="M10705 2706 c-50 -16 -133 -58 -163 -82 l-23 -19 121 -107 c67 -60\n        128 -108 135 -108 23 0 27 39 20 186 -8 162 -4 157 -90 130z"/>\n        <path d="M11307 2354 c-59 -65 -107 -126 -107 -136 0 -11 11 -18 38 -22 44 -7\n        278 7 289 17 15 16 -51 183 -94 236 l-19 24 -107 -119z"/>\n        <path d="M10362 2413 c-39 -62 -70 -134 -78 -184 l-7 -39 152 0 c86 0 161 5\n        172 10 17 10 18 13 5 38 -8 15 -59 71 -114 125 l-99 99 -31 -49z"/>\n        <path d="M10888 2359 c-24 -14 -23 -56 2 -69 44 -23 80 29 44 64 -18 19 -23\n        19 -46 5z"/>\n        <path d="M10851 2187 c-49 -29 -66 -101 -35 -146 9 -13 32 -29 50 -37 29 -12\n        39 -12 68 0 99 41 85 180 -19 192 -24 3 -50 -1 -64 -9z"/>\n        <path d="M10660 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n        -54 2z"/>\n        <path d="M11096 2124 c-9 -8 -16 -22 -16 -29 0 -13 26 -45 36 -45 20 0 44 25\n        44 45 0 14 -8 29 -19 35 -25 13 -27 13 -45 -6z"/>\n        <path d="M10335 1991 c-60 -6 -60 -6 -57 -36 9 -69 104 -248 122 -229 57 61\n        210 250 207 258 -4 12 -176 17 -272 7z"/>\n        <path d="M11267 1983 c-68 -5 -79 -19 -47 -60 23 -31 200 -193 210 -193 3 0\n        20 24 37 53 29 48 52 111 67 180 l6 27 -107 -2 c-60 -1 -134 -3 -166 -5z"/>\n        <path d="M10870 1910 c-16 -31 4 -62 38 -58 21 2 28 9 30 32 5 45 -47 65 -68\n        26z"/>\n        <path d="M10651 1703 c-56 -59 -101 -113 -101 -120 0 -28 172 -103 237 -103\n        l26 0 -7 123 c-10 179 -15 207 -36 207 -10 0 -63 -48 -119 -107z"/>\n        <path d="M11035 1801 c-7 -12 -23 -144 -29 -243 -4 -77 -4 -78 19 -78 45 0\n        130 22 193 51 l64 29 -19 23 c-65 82 -198 227 -209 227 -7 0 -15 -4 -19 -9z"/>\n        </g>\n        </svg>`}}class l extends c{drawWinners(t){return`\n    <section class="to-winners" style = "display: none">\n      ${this.drawListWin(t)}\n    </section>`}drawListWin(t){return`\n    <h1 class="title-main">Garage(${t.winnersCount})</h1>\n    <h2 class="title-page">Page #${t.winnersPage}</h2>\n    <table class="table">\n    <thead>\n        <th>Number</th>\n        <th>Car</th>\n        <th>Name</th>\n        <th class="th-btn th-wins ${"wins"===t.sortBy?t.sortOrder:""}">Wins</th>\n        <th class="th-btn th-time ${"time"===t.sortBy?t.sortOrder:""}">Best time (seconds)</th>\n    </thead>\n      <tbody>\n        ${t.winners.map(((t,n)=>`\n          <tr>\n            <td>${n+1}</td>\n            <td>${this.darwImage(t.car.color)}</td>\n            <td>${t.car.name}</td>\n            <td>${t.wins}</td>\n            <td>${t.time}</td>\n          </tr>\n        `)).join("")}\n      </tbody>\n    </table>\n    `}}class u{constructor(){this.garage=new c,this.winners=new l}drawFullPage(t){return document.body.innerHTML="",this.drawHeaderBtn()+this.garage.drawMain(t)+this.winners.drawWinners(t)+this.drawFooterBtn()}drawPage(t){"garage"===t.view?document.querySelector(".garage-wrapper").innerHTML=this.garage.drawGarage(t):document.querySelector(".to-winners").innerHTML=this.winners.drawListWin(t)}drawHeaderBtn(){return'\n      <header class="header-btn">\n          <button class="header-btn btn" data-page = "garage">To Garage</button>\n          <button class="header-btn btn" data-page = "winners">To Winners</button>\n      </header>'}drawFooterBtn(){return'\n      <footer class="footer-btn">\n          <button class="footer-btn__prev btn">prev</button>\n          <button class="footer-btn__next btn">next</button>\n      </footer>'}}var h=e(379),p=e.n(h),m=e(795),g=e.n(m),b=e(569),f=e.n(b),v=e(565),y=e.n(v),w=e(216),C=e.n(w),$=e(589),x=e.n($),M=e(402),P={};P.styleTagTransform=x(),P.setAttributes=y(),P.insert=f().bind(null,"head"),P.domAPI=g(),P.insertStyleElement=C(),p()(M.Z,P),M.Z&&M.Z.locals&&M.Z.locals,(new class{constructor(){this.controller=new d,this.view=new u}startApp(){this.controller.startPage((t=>this.view.drawFullPage(t))),document.body.addEventListener("click",(t=>{this.controller.listener(t,(t=>this.view.drawPage(t)))}))}}).startApp()})()})();